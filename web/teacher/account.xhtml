<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <h:head>

        <title>Account</title>

    </h:head>
    <body>
        <ui:composition template="common.xhtml">
            <ui:define name="style">
                <style>
                    .info {
                        padding-top: 15px;
                        color:black;
                    }

                    .imgInfo {
                        display: block;
                        width: 100%;
                        height: 10vw;
                        object-fit: cover;
                        border-radius: 100%;
                    }
                   
                     .btn{
                        color:white;
                        background-color: red;
                        margin-bottom: 30px;
                    }
                    .btn:hover{
                        color:white;
                    }
                    .inputPassword{
                        border: 1px solid red;
                        margin-top:2px;
                        color:black;
                        border-radius: 2px;
                    }
                    .sidebar{
                    display: none;
                }
                </style>
            </ui:define>

            <ui:define name="title">
                <h1 class="ml-10 p-3 text-4xl font-bold text-red-800">#{sessionData.user.fullname}</h1>
            </ui:define>
            <hr />

            <ui:define name="content">
                <div class="container-fluid">
                    <div class="row">

                        <div class="col-md-9">
                            <div class="info">
                                <div class="row topInfo">
                                    <div class="col-md-2">
                                        <img src="https://engineering.nd.edu/wp-content/uploads/2021/05/ngonga-960x533.jpg"
                                             class="imgInfo" alt="" />
                                    </div>
                                    <div class="col-md-10">
                                        <h4 class=" yourName">#{sessionData.user.fullname}'S SETTINGS</h4>
                                        <br />
                                        <br />

                                        <p><span>Fullname: </span> #{sessionData.user.fullname}</p>
                                        <p><span>Display name: </span> #{sessionData.user.fullname}</p>
                                        <p><span>Email: </span> #{sessionData.user.email}</p>
                                        <br />
                                        <br />

                                        <div class="row">
                                            <!--change the pw-->
                                            <div class="col-md-6">
                                                <button class="btn" type="submit" onclick="showElement('changepassword')">CHANGE PASSWORD</button>
                                                
                                                <h:form id="changepassword" style="display: none">
                                                    <h:panelGrid columns="1" style="height: 100%; width:456px;">
                                                        <h:outputText value="Actual Password"/>
                                                        <h:inputText required="true"  class="inputPassword" value="#{userData.newPassword}"
                                                                        requiredMessage="password is required" id="actualpassword"/>
                                                        <h:message for="actualpassword" />
                                                        
                                                        <h:outputText value="New Password"/>
                                                        <h:inputText required="true"  class="inputPassword" value="#{userData.newPassword}"
                                                                        requiredMessage=" New password is required" id="newpassword"/>
                                                        <h:message for="newpassword" />
                                                        
                                                        <h:outputText value="Confirm Password"/>
                                                        <h:inputText required="true"  class="inputPassword" value="#{userData.confPassword}"
                                                                        requiredMessage="New password is required" id="confpassword"/>
                                                        <h:message for="confpassword" />
                                                    </h:panelGrid>
                                                    <h:commandButton class="text-center btn" value="Submit"></h:commandButton>
                                                    <button type="button" class="text-center btn" onclick="hideElement('changepassword')">Cancel</button>
                                    
                                                </h:form>

                                            </div>
                                            <!--change the email-->
                                            <div class="col-md-6">
                                                <button class="btn" type="submit" onclick="showElement('changeemail')">CHANGE EMAIL ADRESS</button>
                                                <h:form id="changeemail" style="display: none">
                                                    <h:panelGrid columns="1" style="height: 100%; width:456px;">
                                                        <h:outputText value="Actual Email"/>
                                                        <h:inputText required="true"  class="inputPassword" value="#{userData.email}"
                                                                     requiredMessage="Email is required" id="actualemail"/>
                                                        <h:message for="actualemail" />
                                                        
                                                        <h:outputText value="New Email"/>
                                                        <h:inputText required="true"  class="inputPassword" value="#{userData.newEmail}"
                                                                     requiredMessage=" New Email is required" id="newemail"/>
                                                        <h:message for="newemail" />
                                                        
                                                        <h:outputText value="Confirm Email"/>
                                                        <h:inputText required="true"  class="inputPassword" value="#{userData.newEmailConf}"
                                                                     requiredMessage="New Email is required" id="confemail"/>
                                                        <h:message for="confemail" />
                                                    </h:panelGrid>
                                                    <h:commandButton class="text-center btn" action ="#{userData.updateEmail}" value="Submit"></h:commandButton>
                                                    <button type="button" class="text-center btn" onclick="hideElement('changeemail')">Cancel</button>
                                    
                                                </h:form>
                                            </div>
                                        </div>
                                        
                                    </div>
                                </div>

                            </div>

                        </div>
                    </div>

                </div>
            </ui:define>
        </ui:composition>


    </body>


</html>